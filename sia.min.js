!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.sia=e()}}(function(){return function e(t,r,n){function i(u,a){if(!r[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[u]={exports:{}};t[u][0].call(c.exports,function(e){var r=t[u][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(e,t,r){"use strict";var n=null;n="undefined"==typeof window?e("node-fetch"):window.fetch;var i=e("./_group"),o=e("./_subject"),u="/buscador/JSON-RPC",a="result",s="list",l="buscador.obtenerGruposAsignaturas",c="buscador.obtenerAsignaturas",f="asignaturas",h="totalAsignaturas",p="numPaginas";r.getGroups=function(e,t,r){var o="{ method: "+l+", params: "+t+" }";n("http://"+e+u,{method:"POST",body:o}).then(function(e){e.json().then(function(e){if(e.error)return r(e.error,null);for(var t=[],n=0;n<e[a][s].length;n++)t.push(new i(e[a][s][n]));return r(null,t)})["catch"](function(e){return r(e,null)})})["catch"](function(e){return r(e,null)})},r.getSubjects=function(e,t,r){var i="{ method: "+c+", params: "+t+" }";n("http://"+e+u,{method:"POST",body:i}).then(function(e){e.json().then(function(e){if(e.error)return r(e.error,null);for(var t=[],n=e[a][h],i=e[a][p],u=0;u<e[a][f][s].length;u++)t.push(new o(e[a][f][s][u]));return r(null,{count:n,pags:i,list:t})})["catch"](function(e){return r(e,null)})})["catch"](function(e){return r(e,null)})}},{"./_group":2,"./_subject":3,"node-fetch":"node-fetch"}],2:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o="codigo",u="nombredocente",a="usuariodocente",s="planlimitacion",l="cupostotal",c="cuposdisponibles",f="list",h="plan",p="tipo_limitacion",d=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],v="aula_",g="horario_";t.exports=function(){function e(t){n(this,e),this.code=t[o],this.master=t[u],this.user=t[a],this.schedule=this.parseSchedule(t),this.limits=this.parseLimits(t[s]),this.quota=t[l],this.free=t[c]}return i(e,[{key:"parseLimits",value:function(e){for(var t=[],r=0;r<e[f].length;r++)t.push({plan:e[f][r][h],type:e[f][r][p]});return t}},{key:"parseSchedule",value:function(e){for(var t=[],r=0;r<d.length;r++){var n=e[v+d[r]].split(" "),i=e[g+d[r]].split(" ");"--"===n[0]||"--"===i[0]?t.push(null):t.push({place:n,hour:i})}return t}}]),e}()},{}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="id_asignatura",o="codigo",u="nombre",a="tipologia",s="creditos";t.exports=function l(e){n(this,l),this.id=e[i],this.code=e[o],this.name=e[u],this.type=e[a],this.credits=e[s]}},{}],4:[function(e,t,r){"use strict";var n=e("./lib/parseFilter"),i=e("./lib/parseParam"),o=e("./lib/parseSchedule"),u=e("./lib/validFilter");t.exports={parseFilter:n,parseParam:i,parseSchedule:o,validFilter:u}},{"./lib/parseFilter":5,"./lib/parseParam":6,"./lib/parseSchedule":7,"./lib/validFilter":8}],5:[function(e,t,r){"use strict";t.exports=function(e){try{for(var t=["L","M","C","J","V","S","D"],r="",n=0;n<t.length;n++){for(var i=[],o=0;o<e.length;o++)e[o].charAt(0)===t[n]&&i.push(e[o]);if(i.length){for(var u=[],a=!1,s=[],l=6;l<22;l++){var c=i.indexOf(t[n]+l);c>=0?(a=!0,u.push(l)):a&&(s.push(u[0]+"-"+(parseInt(u[u.length-1],10)+1)),u=[],a=!1)}for(var f="",h=0;h<s.length;h++)f=""+f+s[h]+",";r=""+r+t[n]+f.substring(0,f.length-1)}else r=""+r+t[n];r+=":"}return r.substring(0,r.length-1)}catch(p){return null}}},{}],6:[function(e,t,r){"use strict";var n=e("./parseSchedule");t.exports=function(e){try{for(var t=[],r=e.split(":"),i=0;i<r.length;i++){r[i]=r[i].substring(1);var o=r[i].split(",");o[0]?t[i]={hour:o}:t[i]=null}return n(t)}catch(u){return null}}},{"./parseSchedule":7}],7:[function(e,t,r){"use strict";t.exports=function(e){try{for(var t=[],r=0;r<e.length;r++){var n="";switch(r){case 0:n="L";break;case 1:n="M";break;case 2:n="C";break;case 3:n="J";break;case 4:n="V";break;case 5:n="S";break;case 6:n="D";break;default:n="X"}if(e[r])for(var i=0;i<e[r].hour.length;i++){for(var o=e[r].hour[i].split("-"),u=parseInt(o[0],10),a=parseInt(o[1],10),s=[],l=u;l<a;l++)s.push(""+n+l);t=t.concat(s)}}return t}catch(c){return null}}},{}],8:[function(e,t,r){"use strict";t.exports=function(e,t){try{for(var r=0;r<e.length;r++)if(t.indexOf(e[r])<0)return!1;return!0}catch(n){return null}}},{}],9:[function(e,t,r){"use strict";var n=e("./_sia/_connect"),i=e("./utils");r.utils=i,r.NAME={ama:"Amazonia",bog:"Bogotá",car:"Caribe",man:"Manizales",med:"Medellín",ori:"Orinoquia",pal:"Palmira",tum:"Tumaco"},r.LEVEL={pre:"PREGRADO",pos:"POSGRADO"},r.TYPE={p:"NIVELACIÓN",b:"FUNDAMENTACIÓN",c:"DISCIPLINAR",l:"LIBRE ELECCIÓN",m:"MULTIPLES",o:"OBLIGATORIO",t:"ELEGIBLE"},r.getGroups=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.plan,u=void 0===o?null:o,a=r.filter,s=void 0===a?[]:a;return new Promise(function(r,o){n.getGroups(t,"["+e+" , 0]",function(e,t){if(!e){var n=[];if(u){for(var a=0;a<t.length;a++)if(t[a].limits.length)for(var l=0;l<t[a].limits.length;l++)t[a].limits[l].plan===u&&(s.length?i.validFilter(i.parseSchedule(t[a].schedule),s)&&n.push(t[a]):n.push(t[a]));else s.length?i.validFilter(i.parseSchedule(t[a].schedule),s)&&n.push(t[a]):n.push(t[a]);r(n)}else if(s.length){for(var c=0;c<t.length;c++)i.validFilter(i.parseSchedule(t[c].schedule),s)&&n.push(t[c]);r(n)}r(t)}o(e)})})},r.getSubjects=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.filter,u=void 0===o?[]:o,a=r.level,s=void 0===a?"":a,l=r.type,c=void 0===l?"":l,f=r.plan,h=void 0===f?"":f,p=r.noPag,d=void 0===p?1:p,v=r.noRes,g=void 0===v?15:v;return new Promise(function(r,o){try{var a=u.length?i.parseFilter(u):"",l="[\n        '"+e+"',\n        '"+s+"',\n        '"+c+"',\n        '"+s+"',\n        '"+h+"',\n        '"+a+"',\n        "+d+",\n        "+g+"\n      ]";n.getSubjects(t,l,function(e,t){e||r(t),o(e)})}catch(f){o(f)}})}},{"./_sia/_connect":1,"./utils":4}]},{},[9])(9)});